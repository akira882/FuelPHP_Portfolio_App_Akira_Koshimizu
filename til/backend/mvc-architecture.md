---
title: "MVCアーキテクチャの本質とFuelPHPにおける実装責務"
date: 2026-01-29
category: "Backend"
tags: ["Architecture", "PHP", "FuelPHP"]
---

# 概要
Webアプリケーションの保守性と拡張性を担保するための設計思想である「MVCモデル」と、ミドルウェア・フレームワークの違いについて、実務的観点から整理した。

# 1. MVCモデルにおける責務の分離
会社が採用しているFuelPHPをはじめ、モダンなFWで徹底すべき役割分担は以下の通りである。

| 層 | 役割 (Responsibility) | 開発時の注意点 (My Rules) |
| :--- | :--- | :--- |
| **Model** | **データロジック**<br>DB通信、データ加工、ビジネスロジック | ControllerにSQLを書かない（Fat Controller回避）。データの整合性はここで担保する。 |
| **View** | **UI/プレゼンテーション**<br>画面表示、HTML生成 | ロジックを持ち込ませない。「どう見せるか」だけに集中する。共通部分はテンプレート化して再利用性を高める。 |
| **Controller** | **制御・司令塔**<br>リクエストの受付、Model/Viewの連携 | 「判断」のみを行う。処理が複雑になる場合はModelやServiceクラスへ委譲する。 |

## 学習の軌跡と改善アクション
*   **現状の課題**: 初期の学習コードでは、Controller内にDB接続処理を直書きしていた。
*   **改善策**: `Model_Bbs` クラスを作成し、`DB::select` などの処理を移行する。
*   **Git運用**: `pull` 漏れによるコンフリクトを経験。開発フローとして「作業前 `pull` → 作業 → `commit` → `pull` (確認) → `push`」を徹底し、チーム開発での事故を防ぐ。

# 2. ミドルウェアとフレームワークの境界線
開発環境を構築する上で、両者の違いを明確に理解しておく。

*   **ミドルウェア (OSとアプリの仲介)**
    *   役割: 特定の機能（Webサーバー、DBなど）を専門的に提供する。
    *   実例: Apache, Nginx, MySQL, Redis
    *   *Insight*: アプリケーションコードからは「利用する対象」であり、インフラ設計の要となる。
*   **フレームワーク (開発の枠組み)**
    *   役割: アプリ開発の土台を提供し、コードの書き方を統一する。
    *   実例: FuelPHP, Laravel, React
    *   *Insight*: 開発効率と品質を均一化するための「ルールブック」である。
