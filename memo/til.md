# About this file
This file is a collection of useful information that I have learned while studying web development.

# 0129





# ０１２８

# 開発進捗
インストール済：
- PHP
- Composer
- Laravel
インストーラーのインストール
https://laravel.com/docs/12.x/installation#installing-php:~:text=%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%AE%E4%BD%9C%E6%88%90-,PHP%E3%81%A8Laravel%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%A9%E3%83%BC%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB,-%E6%9C%80%E5%88%9D%E3%81%AELaravel



# コアテック社の技術スタック
【バックエンド言語】PHP
【フロントエンド言語】JavaScript,TypeScript
【FW】FuelPHP, Laravel, CakePHP, React
→バックエンド言語は主にPHPを使用しています。  
FWは主にFuelPHPを使用しています。 Reactはフロントエンド言語として主に使用しています。

【DB】MySQL（AWS Aurora）, Redis, DynamoDB
→DBは主にMySQLを使用しています。 AWS AuroraはDBとして主に使用しています。

【本番／ステージング環境】AWS(EC2, ECS, S3, CloudFront, Lambda, Aurora, Amplify, WorkMail, MediaConvert, ElasticTranscoder, Athena, Simple Notification Service)
→本番環境は主にAWSを使用しています。

【ローカル環境】Docker
→ローカル環境は主にDockerを使用しています。
※ローカル環境とは、開発環境をPC上で実行する環境です。

【CI/CD】jenkins
→CI/CDは主にjenkinsを使用しています。

用語：
- CI/CDとは何か？ (Continuous Integration / Continuous Delivery & Deployment)
ソフトウェアの変更を継続的にテストし、自動的に本番環境へ反映させることで、開発の効率化と品質向上を実現する手法。 

- CI（継続的インテグレーション）: 開発者がコードを頻繁に共有リポジトリ（Gitなど）にマージし、自動ビルドと自動テストを行うこと。バグを早期に発見できる。

- CD（継続的デリバリー）: CIでテストされたコードを、いつでも本番環境にリリースできる状態（または自動でステージング環境へ反映）に保つこと。
- CD（継続的デプロイメント）: テストを通過したコードを、人間の介入なしで自動的に本番環境へデプロイすること。 

- Jenkins:Javaベースの、オープンソースの自動化サーバー。CI/CDを実現するための最も代表的なツール。 
ビルド・自動テスト・デプロイの統合: コードのコミットを検知し、自動的にビルドやテストタスクを実行する。
豊富なプラグイン: 1,800以上のプラグイン（Jenkins Plugins）が利用可能で、GitHub、Docker、Kubernetesなど多様なツールと連携できる。

 分散ビルド: 大規模なプロジェクトでも、複数のサーバーに負荷を分散して高速に処理できる。
- 実績: 世界的に広く導入されている（170万ユーザー以上）。 

■Jenkinsで実現できる自動化フロー
Jenkinsの仕事：Pushした後に、全自動でエラーがないかチェックすること

- コード変更: 開発者がGitHubへコードをプッシュ。
- 自動ビルド: Jenkinsが変更を検知し、自動でビルドを開始。
- 自動テスト: 単体テスト・結合テストなどを自動実行。
- 自動デプロイ: テストに合格したら、Dockerコンテナやサーバーへ自動デプロイ。
- 通知: 失敗時はSlackやメールで通知。 

Jenkinsを利用することで、手動で行っていた作業を自動化し、人的ミスの削減と開発サイクルの短縮を実現する。 


【プロジェクト管理】Git, Backlog, GoogleSpreadsheet , Codecommit
- Git: バージョン管理ツール。コードの変更履歴を管理し、チームで協力開発を可能にする。
- Backlog: プロジェクト管理ツール。タスクの管理、printsの作成、コミュニケーションを可能にする。
- readsheet: プロジェクト管理ツール。タスクの管理、スprintsの作成、コミュニケーションを可能にする。
- Codecommit: コードの変更履歴を管理し、チームで協力開発を可能にする。



## Dockerとは何か
Docker：コンテナ技術を用いて、アプリケーションを簡単に展開するためのツール。
コンテナ型の仮想環境を簡単に作成・配布・実行することができる
コンテナ：OSの最小限の機能を備えた仮想環境

## Dockerのメリット
1. どのコンピューターでも全く同じ環境でアプリを動かせる
2. Infrastructure as Code:OSやミドルウェアの設定をコードで管理できる
3. クラウド上に自動でサーバーを構築可能　※kubernetesを利用すると便利
4. Docker Hubで一般公開されているイメージを利用できる

## ソフトウェアエンジニアのDockerの利用イメージ
1. dockerhubからイメージをダウンロード
2. 社内のインフラエンジニアから共有されたDockerファイルを利用

## 仮想環境とは
- 複数のOSを同一のPC上で動作させる環境

## 仮想環境とPCの呼び名
- 仮想環境：ゲストOS
- PC：ホストOS  

## Dockerの利用形態
Dockerは主に以下の3つの形態で利用されます。
1. Docker Desktop
2. Docker Engine
3. Docker Compose

## レンタルサーバーで運用しているサイトではDockerが不要な理由
→レンタルサーバーでは、OSの最小限の機能を備えた仮想環境を提供するため、Dockerは不要。
レンタルサーバーの環境は完成品。下記が最初から揃っている
- Apache（Webサーバー）
- MySQL（データベース）
- PHP（プログラミング言語）

Apache：Webサーバーで、ブラウザからアクセスされたリクエストを処理して、レスポンスを返す役割を果たします。
MySQL：データベースで、データの保存や取得を行う役割を果たします。
PHP：プログラミング言語で、Webページの動的な要素を生成する役割を果たします。

多くの会社は、レンタルサーバーで運用しているサイトを、Dockerで展開する形で運用しています。

## docker用語
- dockerfile(OS,software,settingなど、dockerimageを作るための設計図):Dockerコンテナの構成情報や手順を記述したテキストファイルで、Dockerイメージを作成するための「設計図」
- dockerimage(containerを作るための金型):アプリケーションの実行に必要なコード、ライブラリ、設定ファイルなどを一つにまとめた、読み取り専用のテンプレート（設計図）。
このイメージを基に、独立した実行環境である「コンテナ」が生成・動作する。
ポータブルで共有可能であり、一度作成すればどの環境でも同じようにアプリを動かせるのが特徴。

- dockercontainer(料理):PCの中で動く仮想環境の空間
> containerの中にLaravel、PHP、Pythonをインストールして動くようにする

- dockercompose:「Webサーバー」「データベース」「PHP」など、複数のコンテナを一つのシステムとして動かすための設定ファイル

## dockerの仕組み
Docker Repository(Docker Hub,GCR,ECR)→Docker Image(レシピ)→Docker Container(料理)

## docker Compose
複数のContainerをまとめて操る司令塔(指揮官)。
これまでは「MySQLを作る」「PHPを作る」と、一つ一つのコンテナを個別に命令（docker run）して作ってきました。しかし、実際のWebアプリは「Webサーバー」「PHP」「データベース」などが手を取り合って動く必要があります。

Docker Composeを使えば、これらの複数の道具を**「一つのシステム」として、ボタン一つ（一回のコマンド）で同時に起動・管理**できます

## docker volumes
データを永続化してコンテナ間で共有できる
docker containerは頻繁に消したり、新規作成することがある。

### メリット
containerを消すと、その中に保存されていたデータも消える。
そのため、データを永続化してコンテナ間で共有できるvolumesを使用する。

## デメリット
ダミーデータでストレージを圧迫してしまう








## ポート番号
プログラミングにおいてポート番号は「通信相手（プロセス）を特定し、データを安全かつ確実に入り口に導くための識別子」。

ポート番号とは、コンピュータがネットワーク通信を行う際に、どのアプリケーション（サービス）宛のデータかを識別するための0～65535の数字。
例）
- IPアドレスが「家の住所」
- ポート番号は「部屋番号」

1台の機器で複数の通信（Web閲覧、メールなど）を並行処理するために必須

### ポート番号の主な役割
- 通信の目的地の特定：どのアプリケーション宛のデータかを識別するための番号
- サービスの種類を識別：Webサーバー（80番）、メールサーバー（25番）など、サービスごとに決まっている
- 複数のサービスを同時に実行：1台のコンピューターで複数のサービスを同時に実行できる

### プログラミングでポート番号を指定する理由
1. サービスを「待機(Listen)」させるため
サーバー側（Node.js, Python, Javaなど）でプログラムを動かす際、そのプログラムが「どの入り口でデータを待つか」をOSに指定する必要があります（例: app.listen(3000)）。 

2. クライアント（ブラウザ）に「どこへ接続するか」を伝えるため
ブラウザがサーバーにアクセスする際、IPアドレスだけでなく「どのサービス（ポート番号）」を呼び出すかを指定する必要があります（例: http://localhost:3000）。 


# ミドルウェアとフレームワークの違い

## ミドルウェア
ミドルウェアは、OSとアプリケーションの中間に位置するソフトウェア。OSの機能を利用して、アプリケーションが動作するための環境を提供する。
例：
- Webサーバー(Apache アパッチ, Nginx エンジンエックス)
- データベースサーバー(MySQL マイエスキューエル, PostgreSQL ポストグレスキューエル)
- メッセージキュー(Redis リディス)：アプリケーション間やコンポーネント間でデータを非同期にやり取りするための技術

## Webサーバー
Webサーバーは、Webサイトのコンテンツをクライアント（ブラウザ）に配信するためのソフトウェア。HTTPプロトコルを使用して、クライアントからのリクエストに応じてHTMLファイルや画像などのコンテンツを返す。

## データベースサーバー
データベースサーバーは、データベースを管理するためのソフトウェア。データベースは、データを構造化して保存・管理するための仕組み。データベースサーバーは、データベースへのアクセスを管理し、データの整合性を保つ。

## フレームワーク
フレームワークは、アプリケーション開発を効率化するための枠組み。あらかじめ用意された機能や構造を利用して、アプリケーションを開発できる。
例：FuelPHP, Laravel, CakePHP など

## 違い
- ミドルウェアはOSの機能を利用して、アプリケーションが動作するための環境を提供する
- フレームワークはアプリケーション開発を効率化するための枠組み  
